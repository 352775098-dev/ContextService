# ContextService
上下文工程实现

# 上下文工程设计原则
1、所有模型调用前都应该有上下文，prompt动态调整也在上下文范围，对于不需要上下文内容的经过上下文调用后可以不填内容
2、写原始对话应放到记忆服务，写对话的时机应由对话系统负责；上下文维护的是会话的记忆、摘要、工具的输出、 不是原始对话
3、对模型固定配一个上下文窗口，每个模型的上下文窗口隔离；窗口中动态内容持续刷新，
4、把上下文成消费者和生产者模式，填充上下文的过程和Agent的流程异步，业务路径不允许随意加流程
5、尽量不要搞显性调用，建议用消息或事件方式作为接口
6、上下文应该做成模型感知的，场景的诉求通过prompt模板和skill来实现，要用开放算法机制，针对不同场景，去动态调整
